<head>
  <title>restSample</title>
</head>

<body>
  <h3 class="ui inverted center aligned block blue icon header">
    <i class="circular settings icon"></i>
    Microcontroladores
  </h3>
</body>
<template name="hello">
  <div class="ui clearing raised blue segment">
    {{#if checkchart}}
    {{else}}
      <div class="ui right floated blue button graph">
        <i class="icon line chart"></i>
        Volver a gráficas
      </div>
      <div id="export" class="ui right floated blue button" data-export="export">
        <i class="icon file excel outline"></i>
        Descargar
      </div>
    {{/if}}
    <div>
      <div class="ui center aligned statistic">
        <div class="value">
          últimos
        </div>
        <div class="label">
          registros
        </div>
      </div>
      <div class="ui center aligned statistic temperature" style="cursor: pointer">
        <div class="value">
          <img src="/thermometer.png" class="ui circular inline image">{{currentTemperature}}
        </div>
        <div class="label">
          <h4>temperatura ºC</h4>
        </div>
      </div>
      <div class="ui center aligned statistic humidity" style="cursor: pointer">
        <div class="value">
          <img src="/humidity.png" class="ui circular inline image">{{currentHumidity}}
        </div>
        <div class="label">
          <h4>% humedad</h4>
        </div>
      </div>
      <div class="ui center aligned statistic photoresistor" style="cursor: pointer">
        <div class="value">
          <img src="/light.png" class="ui circular inline image">{{currentPhotoresistor}}
        </div>
        <div class="label">
          <h4>fotoresistor</h4>
        </div>
      </div>
      <div class="ui center aligned statistic allrecords" style="cursor: pointer">
        <div class="value">
          <img src="/records.png" class="ui circular inline image">{{numberOfRecords}}
        </div>
        <div class="label">
          <h4># registros</h4>
        </div>
      </div>
    </div>
  </div>
  {{#if checkchart}}
    <div class="ui horizontal segments">
      <div class="ui blue segment">
        <div id="lineChart" style="height: 400px;">
          <svg></svg>
        </div>
      </div>
      <div class="ui blue segment">
        <div class="ui relaxed divided list">
          {{#each lastTenTemperatures}}
            <div class="blue item">
              {{#if cold}}
                <img src="/weather.png" class="ui mini circular image">
              {{/if}}
              {{#if hot}}
                <img src="/summer.png" class="ui mini circular image">
              {{/if}}
              {{#if average}}
                <img src="/tool.png" class="ui mini circular image">
              {{/if}}
              <div class="content">
                <div class="header">{{temperature}} ºC</div>
                <div class="description">{{humidity}}%<br>{{date}}</div>
              </div>
              <div class="right floated content">
                {{photoresistor}} <br><b>fotoresistor</b>
              </div>
            </div>
          {{/each}}
        </div>
      </div>
    </div>
  {{else}}
    <table id="table" class="ui single line striped blue table">
      <thead>
        <tr>
          <th>#</th>
          <th>Fecha</th>
          <th>Temperatura</th>
          <th>Humedad</th>
          <th>Fotoresistor</th>
        </tr>
      </thead>
      <tbody>
        {{#each allRecords}}
          <tr>
            <td>{{@index}}</td>
            <td>{{date}}</td>
            <td>{{temperature}}</td>
            <td>{{humidity}}</td>
            <td>{{photoresistor}}</td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  {{/if}}
</template>
